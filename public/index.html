<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta name="keywords" content="Web Developer" />
    <meta name="description" content="Daniel Hipskind Portfolio" />
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Daniel Hipskind | Software Developer" />
    <meta property="og:description" content="Daniel Hipskind Portfolio" />
    <meta property="og:image" content="/assets/images/danielportfolio.png" />
    <meta property="og:url" content="https://danielhipskind.com/" />
    <meta property="og:type" content="website" />

    <!-- Theme -->
    <meta name="theme-color" content="#243b56" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="/assets/images/Icons/144.png"
    />

    <title>Daniel Hipskind | Software Developer</title>

    <!-- Add this script before any other scripts or CSS -->
    <script>
      (function () {
        const theme =
          localStorage.getItem('theme-preference') ||
          (window.matchMedia('(prefers-color-scheme: dark)').matches
            ? 'dark'
            : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>

    <!-- Add this before your other link tags -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Styles -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap"
      media="print"
      onload="this.media='all'"
    />
    <link rel="stylesheet" href="/assets/css/style.css" />

    <!-- Icons -->
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />

    <!-- Critical Image Preload -->
    <link
      rel="preload"
      href="/assets/images/hero-480.webp"
      as="image"
      type="image/webp"
      fetchpriority="high"
    />

    <!-- Preconnect to required origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script type="module" src="/assets/js/index.js"></script>
    <script type="module" src="/assets/js/themeToggle.js" defer></script>
    <script type="module">
      import tracker from '/assets/js/analytics/core/tracker.js';
      window.analyticsTracker = tracker;
    </script>
  </head>
  <body>
    <!-- Header -->
    <header class="nav-container">
      <nav class="main-nav" id="main-nav">
        <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
          <!-- Menu icon will be injected -->
        </button>
        <div class="nav-links">
          <ul class="nav-items">
            <li><a href="#about" class="nav-item">About</a></li>
            <li><a href="#projects" class="nav-item">Projects</a></li>
            <li><a href="#skills" class="nav-item">Skills</a></li>
          </ul>
        </div>
        <button
          id="theme-toggle"
          class="theme-toggle btn"
          aria-label="Toggle theme"
        >
          <span><!-- SVG will be injected by themeToggle.js --></span>
        </button>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <div class="hero-image">
            <img
              src="/assets/images/hero-480.webp"
              alt="Daniel Hipskind"
              width="185"
              height="185"
              loading="eager"
              fetchpriority="high"
            />
          </div>
          <h1>Daniel Hipskind</h1>
          <p class="tagline">Software Developer & Problem Solver</p>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="section">
        <div class="container">
          <h2 class="section-header">About Me</h2>
          <div data-content="about">
            <!-- Content will be injected here by ContentManager -->
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <section id="projects" class="section">
        <h2 class="section-header">Projects</h2>
        <div class="projects-grid">
          <!-- BlockingMachine Project -->
          <article class="project-card" id="blocking-machine">
            <div class="project-content">
              <h3>BlockingMachine</h3>
              <p id="project-description">Loading project details...</p>

              <div class="project-meta">
                <div class="tech-stack" id="tech-stack">
                  <!-- Languages will be injected here -->
                </div>
                <div class="workflow-info" id="workflow-info">
                  <!-- Workflows will be injected here -->
                </div>
                <div class="project-links">
                  <a href="#" class="github-link" aria-label="View on GitHub">
                    View Project
                  </a>
                </div>
              </div>
            </div>
          </article>

          <!-- Portfolio Project -->
          <article class="project-card" id="portfolio">
            <div class="project-content">
              <h3>Portfolio Website</h3>
              <p id="portfolio-description">Loading project details...</p>

              <div class="project-meta">
                <div class="tech-stack" id="portfolio-tech-stack">
                  <!-- Languages will be injected here -->
                </div>
                <div class="workflow-info" id="portfolio-workflow-info">
                  <!-- Workflows will be injected here -->
                </div>
                <div class="project-links">
                  <a href="#" class="github-link" aria-label="View on GitHub">
                    View Project
                  </a>
                </div>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- Skills Section -->
      <section id="skills" class="section" data-section="skills">
        <h2 class="section-header">Skills</h2>
        <div class="skills-grid">
          <div class="skill-category">
            <h3 class="category-header">Technical Skills</h3>
            <ul class="skill-list" id="technical-skills">
              <li class="loading">Loading skills...</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3 class="category-header">Professional Skills</h3>
            <ul class="skill-list" id="professional-skills"></ul>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <div class="social-links">
          <a
            href="https://github.com/greigh"
            class="social-icon"
            aria-label="GitHub"
          >
            <span class="icon-github"></span>
          </a>
          <a
            href="https://linkedin.com/in/danielhipskind"
            class="social-icon"
            aria-label="LinkedIn"
          >
            <span class="icon-linkedin"></span>
          </a>
        </div>
        <div class="footer-content">
          <p id="copyright"></p>
          <p>Built with ❤️ using modern web technologies</p>
          <p class="privacy-links">
            <a href="/privacy.html">Privacy Policy</a> |
            <a href="#" id="privacy-preferences">Privacy Preferences</a>
          </p>
        </div>
      </div>
    </footer>
    <!-- Your content here -->

    <div id="privacy-banner" class="privacy-banner" hidden>
      <div class="privacy-content">
        <p>
          This website uses minimal analytics to understand how visitors
          interact with its content. No personal data is collected or shared.
          <a href="/privacy.html" class="privacy-link">Learn more</a>
        </p>
        <div class="privacy-actions">
          <button id="accept-privacy" class="button button-primary">
            Accept
          </button>
          <button id="reject-privacy" class="button button-secondary">
            Reject
          </button>
        </div>
      </div>
    </div>

    <div id="analytics-status" class="analytics-status" hidden>
      <button
        id="analytics-toggle"
        class="analytics-toggle"
        aria-label="Toggle analytics"
      >
        <span class="analytics-icon"></span>
      </button>
    </div>
  </body>
</html>
