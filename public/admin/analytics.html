<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin - Analytics</title>
    <link rel="stylesheet" href="/admin/analytics.css" />
  </head>
  <body>
    <main class="container">
      <h1>Analytics (Admin)</h1>

      <div class="nav-links">
        <a href="/admin/index.html">← Admin Dashboard</a>
        <span style="margin: 0 1rem; color: var(--text-secondary, #ccc)"
          >|</span
        >
        <a href="/admin/login.html">← Back to Login</a>
        <span style="margin: 0 1rem; color: var(--text-secondary, #ccc)"
          >|</span
        >
        <a href="/">← Main Site</a>
      </div>

      <div class="controls">
        <div style="margin-bottom: 1rem">
          <label
            >Admin token:
            <input
              id="admin-token"
              type="password"
              placeholder="Paste admin secret token"
          /></label>
          <button id="save-token">Save token</button>
          <button id="login-cookie">Login (cookie)</button>
          <button id="logout">Logout</button>
          <span id="token-status">Not logged in</span>
        </div>

        <div style="margin-bottom: 1rem">
          <label
            >Limit:
            <input id="limit" type="number" value="100" min="1" max="1000" />
          </label>
          <button id="load">Load</button>
          <button id="clear-cache">Clear local view</button>
        </div>

        <div>
          <button id="export-csv">Export CSV</button>
          <button id="export-rss">Export RSS</button>
          <button id="server-export">Server Export (stream)</button>
          <button id="json-export">JSON Export (cursor)</button>
        </div>
      </div>

      <div id="status" class="status">Not loaded</div>

      <section style="margin-top: 12px">
        <h3>cURL example</h3>
        <pre id="curl-examples"># cURL examples will appear here</pre>
      </section>

      <table id="events-table" class="events">
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>IP</th>
            <th>UA</th>
            <th>Path</th>
            <th>Event</th>
            <th>Data</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </main>

    <script src="/admin/analytics.js"></script>
  </body>
</html>
